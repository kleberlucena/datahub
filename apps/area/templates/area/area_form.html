{% extends "base/base.html" %}
{% load static crispy_forms_tags widget_tweaks custom_tags %}

{% block title %} Areas {% endblock %}

{% block style_sheet %}
<link rel="stylesheet" href="{% static 'adminlte-3.1.0/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}">
<link rel="stylesheet" href="{% static 'adminlte-3.1.0/plugins/datatables-responsive/css/responsive.bootstrap4.min.css' %}">
<link rel="stylesheet" href="{% static 'adminlte-3.1.0/plugins/datatables-buttons/css/buttons.bootstrap4.min.css' %}">
{% endblock %}

{% block title-header %} Areas {% endblock %}

{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{% url 'area:area_list' %}">Areas</a></li>

{% if function_type == 'create' %}
    <li class="breadcrumb-item"><a>Adicionar</a></li>
{% elif function_type == 'update' %}
    <li class="breadcrumb-item"><a>Editar</a></li>
{% endif %}

{% endblock %}

{% block content %}

<!-- INFO BOX-->
<div class="callout callout-info">
    {% if function_type == 'create' %}
        <h3 class="text-info"><i class="fas fa-bullhorn"></i> Sobre adicionar area</h3>
        <p class="text-muted text-justify px-3 pt-2">
            <b>Esse app permite a criação e edição de áreas para que possam ser utilizadas por demais apps.</b>
            <br>- Através dessa tela pode ser realizada a criação de uma nova área.
            <br>- As áreas podem ser área de batalhão ou companhia, QPP's ou CPRs.
        </p>
    {% elif function_type == 'update' %}
        <h3 class="text-info"><i class="fas fa-bullhorn"></i> Sobre editar area</h3>
        <p class="text-muted text-justify px-3 pt-2">
            <b>Esse app permite a criação e edição de áreas para que possam ser utilizadas por demais apps.</b>
            <br>- Através dessa tela pode ser realizada a alteração das informações de uma área existente.
            <br>- As áreas podem ser área de batalhão ou companhia, QPP's ou CPRs.
        </p>
    {% endif %}
</div>

{% if request.user|has_group:'profile:area_advanced,profile:area_manager' %}

<div class="row">
  <div class="col-md-12">
      <div class="card card-primary card-outline">
          <div class="card-header">
            {% if function_type == 'create' %}
                <h3 class="card-title">Adicionar area</h3>
            {% elif function_type == 'update' %}
                <h3 class="card-title">Editar area</h3>
            {% endif %}
          </div>
      <form class="p-3" method='post' enctype="multipart/form-data">
          {% csrf_token %}
      
          <div class="row mb-1">
              <div class="col-sm-12">
                  {{form.name|add_class:"form-control"|as_crispy_field}}
              </div>
          </div>
          <div class="row mb-1 mt-3">
              <div class="col-sm-12">
                  {{form.description|add_class:"form-control"|as_crispy_field}}
              </div>
          </div>
             
          <div class="mt-3">
              <button type="submit" class="btn btn-primary">Salvar</button>
              <a href="{{ request.META.HTTP_REFERER  }}"><button type="button" class="btn btn-warning ml-1"> Cancelar </button></a>
          </div>
      </form>
  </div>
</div>

{% endif %}

{% endblock %}

{% block js %}
{% endblock %}