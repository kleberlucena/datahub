{% extends "base/base.html" %}
{% load static crispy_forms_tags widget_tweaks custom_tags %}

{% block title %} Categorias {% endblock %}

{% block style_sheet %}
<link rel="stylesheet" href="{% static 'adminlte-3.1.0/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}">
<link rel="stylesheet" href="{% static 'adminlte-3.1.0/plugins/datatables-responsive/css/responsive.bootstrap4.min.css' %}">
<link rel="stylesheet" href="{% static 'adminlte-3.1.0/plugins/datatables-buttons/css/buttons.bootstrap4.min.css' %}">

{% endblock %}

{% block title-header %} Categorias {% endblock %}

{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{% url 'georeference:category_list' %}">Categorias</a></li>

{% if function_type == 'create' %}
    <li class="breadcrumb-item"><a>Adicionar</a></li>
{% elif function_type == 'update' %}
    <li class="breadcrumb-item"><a>Editar</a></li>
{% endif %}

{% endblock %}

{% block content %}

<!-- INFO BOX-->
<div class="callout callout-info">
    {% if function_type == 'create' %}
        <h3 class="text-info"><i class="fas fa-bullhorn"></i> Sobre adicionar categoria</h3>
        <p class="text-muted text-justify px-3 pt-2">
            <b>Essa tela permite a criação de categorias para que possam ser cadastradas em áreas.</b>
        </p>
    {% elif function_type == 'update' %}
        <h3 class="text-info"><i class="fas fa-bullhorn"></i> Sobre editar categoria</h3>
        <p class="text-muted text-justify px-3 pt-2">
            <b>Essa tela permite a edição de categorias para que possam ser cadastradas em áreas.</b>
        </p>
    {% endif %}
</div>

{% if request.user|has_group:'profile:georeference_area_manager' %}

<div class="row">
  <div class="col-md-12">
      <div class="card card-primary card-outline">
          <div class="card-header">
            {% if function_type == 'create' %}
                <h3 class="card-title">Adicionar categoria</h3>
            {% elif function_type == 'update' %}
                <h3 class="card-title">Editar categoria</h3>
            {% endif %}
          </div>
      <form class="p-3" method='post' enctype="multipart/form-data">
          {% csrf_token %}
      
          <div class="row mb-1">
              <div class="col-sm-12">
                  {{form.name|add_class:"form-control"|as_crispy_field}}
              </div>
          </div>
          <div class="row mb-1 mt-3">
              <div class="col-sm-12">
                  {{form.description|add_class:"form-control"|as_crispy_field}}
              </div>
          </div>
             
          <div class="card-footer">
            <button type="submit" class="btn btn-primary">Salvar</button>
            <a href="{% url 'georeference:category_list' %}"><button type="button" class="btn btn-warning"> Cancelar </button></a>
        </div>
      </form>
  </div>
</div>

{% endif %}

{% endblock %}

{% block js %}
{% endblock %}